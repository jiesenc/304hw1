---
title: "covid interesting founding"
author: "Jiesen cui"
date: 2020-09-20T21:13:14-05:00
categories: ["R"]
tags: ["Covid19", "plot"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```

# Abstract
Nowadays, we are facing a difficult time, because of COVID19. As a people who live in toronto, is really care about the covid19 cases in toronto. For covid 19, there maybe some interesting foundings based from statistical ways, this blog is to find the interesting part of age and source of infection of who was infected by COVID19 in toronto.

# Introduction
I selected the COVID19 toronto cases dataset to analyze. For now we are under a special situation because of COVID19, and it is really important to know the trends of COVID19 confirmed cases and some other information about it, such as the age group, source of infection. In the dataset we are going to analyze, there are many variables, however we are going to discuss only a part of them. I select the age group stand for the patient's age, source of infection stand for the reason why they got infected. As I found the people who is within the age group of 19-59 is the main group of people who got infected by COVID19, especially for people within 19-29. Also for the way they got infected, I found the way of closed contact and outbreak associated are the main ways they got infected. In this dataset, for outbreak related reason of getting infected by COVID19 is N/A, so maybe for those patients they do not really sure about why they got in infected, I think the reason should be close infected. Except of travel, institutional, healthcare reasons, the most possible reason should be close contact.


# Dicuss


# Code 

```{r code}

library(opendatatoronto)
library(dplyr)
library(tidyverse)
# get package
package <- show_package("64b54586-6180-4485-83eb-81e8fae3b8fe")
package

# get all resources for this package
resources <- list_package_resources("64b54586-6180-4485-83eb-81e8fae3b8fe")

# identify datastore resources; by default, Toronto Open Data sets datastore resource format to CSV for non-geospatial and GeoJSON for geospatial resources
datastore_resources <- filter(resources, tolower(format) %in% c('csv', 'geojson'))

# load the first datastore resource as a sample
data <- filter(datastore_resources, row_number()==1) %>% get_resource()
data

covid = data %>%
           select("Age Group","Reported Date","Source of Infection")
covid = covid %>% 
  dplyr::filter(!is.na(`Age Group`))
covid = covid %>% 
  dplyr::filter(!is.na(`Source of Infection`))

covid$`Age Group` <- ifelse(covid$`Age Group` == "19 and younger",  10, covid$`Age Group`);
covid$`Age Group` <- ifelse(covid$`Age Group` == "20 to 29 Years",  20, covid$`Age Group`);
covid$`Age Group` <- ifelse(covid$`Age Group` == "30 to 39 Years",  30, covid$`Age Group`);  
covid$`Age Group` <- ifelse(covid$`Age Group` == "40 to 49 Years",  40, covid$`Age Group`);  
covid$`Age Group` <- ifelse(covid$`Age Group` == "50 to 59 Years",  50, covid$`Age Group`);  
covid$`Age Group` <- ifelse(covid$`Age Group` == "60 to 69 Years",  60, covid$`Age Group`); 
covid$`Age Group` <- ifelse(covid$`Age Group` == "70 to 79 Years",  70, covid$`Age Group`);  
covid$`Age Group` <- ifelse(covid$`Age Group` == "80 to 89 Years",  80, covid$`Age Group`); 
covid$`Age Group` <- ifelse(covid$`Age Group` == "90 and older",  90, covid$`Age Group`); 
covid$`Age Group` <- ifelse(covid$`Age Group` == "NaN",  0, covid$`Age Group`); 

covid$`Source of Infection` <- ifelse(covid$`Source of Infection` == "Travel" , 0, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==  "Close contact", 1, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==  "Institutional" , 2, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==  "Healthcare"  , 3, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==   "Community"    , 4, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==   "N/A - Outbreak associated"    , 5, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==    "Unknown/Missing"   , 6, covid$`Source of Infection`)
covid$`Source of Infection` <- ifelse(covid$`Source of Infection` ==     "Pending"   , 7, covid$`Source of Infection`)


ggplot(data = covid, aes(x = `Age Group` )) + stat_count(color = 'grey',fill = 'pink')
ggplot(data = covid, aes(x = `Source of Infection`)) + stat_count(color = 'grey',fill = 'blue')


```



``` 
```
